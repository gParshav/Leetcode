Since you have to count the number of pairs, in the present state of the array, you can't first sort and do something to find out the answer. This is something that applies to all the questions. 
In this case, the best way to solve it is to find the answer while sorting the array. 

Brute Force:
Time Complexity: O(N^2)
Space Complexity: O(1)

Optimal Case:
Time Complexity: O(N*logN)
Space Complexity: O(1)

