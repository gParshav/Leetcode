Nothing but a simple topological sort problem.

Steps:
1. Construct the graph out of the input and perform topological sorting.