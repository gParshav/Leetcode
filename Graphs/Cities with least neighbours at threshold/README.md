Variation of the Floyd Warshall Algorithm.